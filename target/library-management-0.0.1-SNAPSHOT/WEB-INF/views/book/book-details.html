<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${book.title}">Book Details</title>
    <meta charset="UTF-8" />
</head>
<body>
<h1 th:text="${book.title}">Title</h1>
<p><strong>Author:</strong> <span th:text="${book.author}"></span></p>
<p><strong>Available copies:</strong> <span th:text="${book.copies.?[status == T(edu.epam.fop.model.Status).AVAILABLE].size()}"></span></p>

<p><strong>Description:</strong></p>
<p th:text="${book.description}"></p>

<p th:if="${canRequest}">
    <form th:action="@{/books/{id}/request(id=${book.id})}" method="post">
        <label for="type">Lending type:</label>
        <select id="type" name="type">
            <option value="HOME">HOME</option>
            <option value="IN_LIBRARY">IN_LIBRARY</option>
        </select>
        <button type="submit">Request</button>
    </form>
</p>

<p><a th:href="@{/books}">Back to catalogue</a></p>
</body>
</html> 